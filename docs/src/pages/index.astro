---
import Layout from "../layouts/Layout.astro";
import { Code } from "astro/components";

const base = import.meta.env.BASE_URL.replace(/\/$/, "");

const installCode = `npm install pluton-2d`;

const quickStart = `import "pluton-2d/style.css";
import { Pluton2D } from "pluton-2d";

const svg = document.querySelector("svg")!;
const scene = new Pluton2D(svg, { size: 100 });

const geom = scene.geometry.group();

scene.draw((p) => {
  const path = geom.path();
  path
    .moveToAbs(0, -p.size / 2)
    .lineTo(p.size / 2, p.size)
    .lineTo(-p.size, 0)
    .close();
});

// Reactive — triggers redraw automatically
scene.params.size = 150;`;
---

<Layout title="Pluton 2D" currentPage="/">
  <div class="page">
    <div class="hero">
      <h1>Crisp vector drawings.<br />Zero churn.</h1>
      <p>
        SVG-based technical drawing library with reactive parameters, built-in
        dimension annotations, and minimal DOM updates.
      </p>
      <div class="hero-actions">
        <a href={`${base}/guide`} class="btn btn-primary">Get Started</a>
        <a href={`${base}/examples`} class="btn btn-secondary"
          >View Examples</a
        >
      </div>
    </div>

    <h2 style="margin-top: 1.5rem;">Quick start</h2>
    <Code code={installCode} lang="bash" theme="one-dark-pro" />
    <Code code={quickStart} lang="ts" theme="one-dark-pro" />

    <div class="callout">
      <p>
        <strong>Params are reactive.</strong> Mutate any property on
        <code>scene.params</code> and redraws happen automatically — no manual
        scheduling needed.
      </p>
    </div>
  </div>
</Layout>
