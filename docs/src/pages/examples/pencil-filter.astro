---
import ExamplesLayout from "../../layouts/ExamplesLayout.astro";
import PencilFilterDemo from "../../components/demos/PencilFilterDemo.svelte";

const code = `scene.draw((p) => {
  const star = geom.path();
  const points = 5;
  const outerR = p.size;
  const innerR = p.size * 0.4;

  for (let i = 0; i < points * 2; i++) {
    const angle = (i * Math.PI) / points - Math.PI / 2;
    const r = i % 2 === 0 ? outerR : innerR;
    const x = r * Math.cos(angle);
    const y = r * Math.sin(angle);
    i === 0 ? star.moveToAbs(x, y) : star.lineToAbs(x, y);
  }
  star.close();
});

// Toggle pencil filter at runtime
scene.enableFilter(enabled);`;
---

<ExamplesLayout title="Pencil Filter" current="/examples/pencil-filter">
  <div class="example-header">
    <h1>Pencil Filter</h1>
    <span class="demo-card-tag">Effects</span>
  </div>
  <p class="example-desc">SVG displacement filter that gives geometry a hand-drawn pencil feel.</p>

  <PencilFilterDemo {code} client:visible />
</ExamplesLayout>
